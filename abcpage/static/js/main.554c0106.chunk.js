(this["webpackJsonpvfs-payment"]=this["webpackJsonpvfs-payment"]||[]).push([[0],{18:function(t,e,n){},2:function(t,e,n){t.exports={SightingDiv:"SightingBox_SightingDiv__nl7as",VoteButtonDiv:"SightingBox_VoteButtonDiv__161CT",VoteButtonResultDiv:"SightingBox_VoteButtonResultDiv__3cb_r",VoteButtonLabel:"SightingBox_VoteButtonLabel___Chfm",VoteButton:"SightingBox_VoteButton__apsKW"}},22:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n(1),s=n.n(i),o=n(11),c=n.n(o),g=(n(18),n(3)),h=n(4),r=n(6),u=n(5),l=(n(19),n(9)),d=n.n(l),m=n(12),b=n(2),j=n.n(b),v=function(t){Object(r.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).state={sightingId:t.sightingId,name:t.name,X:t.X,Y:t.Y,Width:t.Width,Height:t.Height,Voted:0},a}return Object(h.a)(n,[{key:"postVote",value:function(t){var e=this,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vote:t,sightingId:this.state.sightingId})};fetch("http://tecspec.dedicated.co.za/abcapi/api/vote",n).then((function(t){console.log(t.json()),e.setState({Voted:1})}))}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{className:j.a.SightingDiv,style:{left:this.state.X,top:this.state.Y,height:this.state.Height,width:this.state.Width},children:[0==this.state.Voted&&Object(a.jsxs)("div",{className:j.a.VoteButtonDiv,children:[Object(a.jsx)("label",{className:j.a.VoteButtonLabel,children:this.state.name}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:j.a.VoteButton,onClick:function(){return t.postVote(2)},children:"Yes"}),Object(a.jsx)("button",{className:j.a.VoteButton,onClick:function(){return t.postVote(1)},children:"No"}),Object(a.jsx)("button",{className:j.a.VoteButton,onClick:function(){return t.postVote(0)},children:"Unsure"})]})]}),1==this.state.Voted&&Object(a.jsx)("div",{className:j.a.VoteButtonResultDiv,children:Object(a.jsx)("label",{className:j.a.VoteButtonLabel,children:"Thank you"})})]})}}]),n}(i.Component),p=n(7),f=n.n(p),x=function(t){Object(r.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).state={imagePath:"",sightings:[],imageLoading:!0},a}return Object(h.a)(n,[{key:"loadNextImage",value:function(){console.log("Next"),this.getData()}},{key:"componentDidMount",value:function(){var t=Object(m.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getData();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getData",value:function(){var t=this;this.setState({imagePath:"imagesLoading.svg"});var e=new XMLHttpRequest;e.addEventListener("load",(function(){var n=JSON.parse(e.responseText);t.setState({imagePath:"https://lmsblob.blob.core.windows.net/"+n.imagePath}),t.setState({sightings:n.sightings})})),e.open("GET","http://tecspec.dedicated.co.za/abcapi/api/image"),e.send()}},{key:"handleImageLoaded",value:function(){this.setState({imageLoading:!1})}},{key:"render",value:function(){var t=this;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:f.a.ImagePageDiv,children:[0==this.state.imageLoading&&this.state.sightings.map((function(t,e){return Object(a.jsx)(v,{name:t.name,sightingId:t.sightingId,X:t.x,Y:t.y,Width:t.width,Height:t.height},t.sightingId)})),Object(a.jsx)("img",{className:f.a.ImagePageImg,src:this.state.imagePath,onLoad:this.handleImageLoaded.bind(this)}),Object(a.jsx)("button",{className:f.a.NextButton,onClick:function(){return t.getData()},children:"Next"})]})})}}]),n}(i.Component),O=(n(22),function(t){Object(r.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).state={},a}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"app",children:Object(a.jsx)(x,{})})}}]),n}(i.Component)),_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),a(t),i(t),s(t),o(t)}))};n(23);c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(O,{})}),document.getElementById("root")),_()},7:function(t,e,n){t.exports={DisplayCenter:"ImagePage_DisplayCenter__Gszry",ImagePageDiv:"ImagePage_ImagePageDiv__1NUU6",ImagePageImg:"ImagePage_ImagePageImg__3DxQR",NextButton:"ImagePage_NextButton__2ETfC"}}},[[25,1,2]]]);
//# sourceMappingURL=main.554c0106.chunk.js.map